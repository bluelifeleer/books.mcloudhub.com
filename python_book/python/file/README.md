### Python中文件操作

> 我们编程使用的数据不仅可以保存、读取在变量跟数据库中，也可以保存、读取磁盘中的文件数据，Python也提供操作磁盘上文件的能力。

### 在Python打开文件使用```open```函数

#### open函数

> open函数返回一个File（文件）对象，File对象表示计算机中的一个文件，是Python辊另一种类型值，就像列表跟字典一样。

##### 语法：

```
open(file_name[,access_mode][,buffering][encoding=None][, errors=None][, newline=None][, closefd=True][, opener=None])
```

* 参数

* * file_name	要打开的文件的名称的字符串值

* * access_mode	打开文件的模式，有只读、写入、追加等。默认为只读模式（r）

* * buffering	如果buffering的值为0不会有寄存，如果为1访问文件时会有寄存行，如果将buffering设置为大于1的值表示为寄存区的缓冲大小，如果值是负值，寄存区的缓冲大小就是系统默认大小。

* * encoding	打开文件的编码方式，一般使用utf8

* * errors		报错级别

* * newline		区分换行符

* * closefd		传入的file参数类型

* * opener

##### 实例：

```
path='./test.txt'

file_name = open(path)

print(file_name.name) 	# 输入文件名./test.txt

# coding=UTF-8

path='./test.txt'

strs='''
        原野
    作者：白居易
    离离原上草，
    一岁一楛荣。
    野火烧不尽，
    春风吹又生。
    远芳侵古道，
    晴翠接荒城。
    又送王孙去，
    凄凄满别情。
'''

file_name = open(path, 'w')

print(file_name.write(strs))
```

##### File对象的属性及方法：

* read()

> 以字符串格式读取文件中的内容

* readline()

> 读取整行，包括 "\n" 字符。

* readlines()

> 读取所有行并返回列表，若给定sizeint>0，则是设置一次读多少字节，这是为了减轻读取压力

* write()

> 将字符串写入文件

* close()

> 关闭打开的文件对象资源

* buffer

> 显示打开的二进制文件资源的二进制内容。

* encoding

> 打开的文件对象的编码格式。

* name

> 打开的文件资源的名称

* closed

> 文件对象资源是否关闭。

* error()

* fileno()

> 返回一个整型的文件描述符(file descriptor FD 整型), 可以用在如os模块的read方法等一些底层操作上。

* flush()

> 刷新文件内部缓冲，直接把内部缓冲区的数据立刻写入文件, 而不是被动的等待输出缓冲区写入。

* writelines()

> 向文件写入一个序列字符串列表，如果需要换行则要自己加入每行的换行符。

* line_buffering

* new_lines

* mode

> 显示打开的文件资源的模式

* seek()

> 用于移动文件读取指针到指定位置。

* seekabel()

* readable()

* tell()

> 返回文件当前位置。

* truncate()

> 用于截断文件并返回截断的字节长度。指定长度的话，就从文件的开头开始截断指定长度，其余内容删除；不指定长度的话，就从文件开头开始截断到当前位置，其余内容删除。

* isatty()

> 文件是否连接到一个终端设备返回 True，否则返回 False。



##### 文件打开模式


|  模式  |  描述  |  备注  |
|----|----|----|
|  r  |  以只读方式打开文件，文件的指针将会放在文件的开头，是默认模式。  |    |
|  rb  |  以二进制格式打开一个只读文件。  |    |
|  r+  |  打开一个文件用于读写。  |    |
|  rb+  |  以二进制格式打开一个文件用于读写。  |    |
|  w  |  以只写模式打开一个文件。  |    |
|  wb  |  以二进制格式打开一个只写文件。  |    |
|  w+  |  打开一个文件用于写入，如果存在则覆盖，如果不存在则创建此文件。  |    |
|  wb+  |  以二进制格式打开一个文件用于写入，如果存在则覆盖，如果不存在则创建此文件。  |    |
|  a  |  打开一个文件用于追加，如果文件存在则高尔夫指针放在文件结尾，不存在则创建新文件将指针放在第一行  |    |
|  ab  |  以二进制格式打开一个文件用于追加  |    |
|  a+  |  打开一个文件用于读写，如果文件存在，指针会放在文件结尾，文件打开里是追加模式，文件不存在则创建新文件用于读写。  |    |
|  ab+  |  以二进制格式打开一个文件用于追加，如果文件存在，指针会放在文件结尾，文件不存在则创建新文件用于读写。  |  .  |


### Python对文件的重命名、删除操作。

> 在Python中对文件的重命名、删除操作需要使用os模块

#### rename()


#### remove()

### fileinput()

### 调试

> 当读取和写入文件时经常会遇到和空白相关的问题。这些问题可能很难调试，因为空格、制表符和换行符通常是不可见的，如：

```
>>> str='12\t3\n45'
>>> print(str)
12  3
45
```

> 在这种情况下python为我们提供了```repr```函数。该函数可接收任何对象作为参数，并返回对象的字符串表达形式。如：

```
>>> print(repr(str))
'12\t3\n45'
```

